<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Chuck Norris Quoter</title>
        <script src="/JWT/Main.js"></script>
    </head>
    
    <body>
    </body>
    
    <script>
        var storedState = localStorage.getItem('model');
        var startingState = storedState ? JSON.parse(storedState) : null;
        var elmApp = Elm.Main.fullscreen(startingState);

        elmApp.ports.setStorage.subscribe(function(state) {
            localStorage.setItem('model', JSON.stringify(state));
        });

        elmApp.ports.removeStorage.subscribe(function() {
            localStorage.removeItem('model');
        });
    </script>
</html>    